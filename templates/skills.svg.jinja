{% extends "templates/base.svg.jinja" %}
{% set table_height = table_row_height * (skills|length + 1) %}
{% set table_width = width - margin_right - margin_left - table_margin_right %}
{% set tick_box_gap = (table_row_height - tick_box_size) / 2 %}
{% set tick_box_x1 = (table_width - 2 * (tick_box_gap + tick_box_size)) %}
{% set tick_box_x2 = (table_width - 1 * (tick_box_gap + tick_box_size)) %}
{% set tick_box_x = (tick_box_x1 + tick_box_x2) / 2 %}
{% set title_height = title_circle_radius * 2 %}

{% block title %}
	{% set gap = (styles.title_banner.height - styles.title_banner.cap_height) / 2 %}
	<g id="title_banner" transform="translate(
		{{ title_circle_radius + gap }},
		{{ title_circle_radius - styles.title_banner.height / 2}})">
		<rect width="{{ title_circle_radius + title_banner.width + gap * 2 }}"
			height="{{ styles.title_banner.height }}"
			rx="{{title_banner_roundness}}" ry="{{title_banner_roundness}}"
			fill="{{ colors.hl }}"/>
		{{ text_element(title_banner,
			x = title_circle_radius + gap - title_banner.x_bearing,
			y = styles.title_banner.ascent) }}
	</g>

	<g id="title_circle" transform="translate({{ title_circle_radius }}, {{ title_circle_radius }})">
		<circle r="{{ title_circle_radius + gap }}" fill="white"/>
		<circle r="{{ title_circle_radius }}" fill="{{ colors.hl }}"/>
		{{ text_element(title_circle,
			x = - title_circle.width / 2 - title_circle.x_bearing,
			y = title_circle.height / 2) }}
	</g>

	<g id="name_line" transform="translate({{ body_width }}, {{ title_circle_radius + styles.title_banner.height / 2 }})">
		<line x1="{{ - name_line_length }}" x2="0"
			stroke="{{ colors.border }}"
			stroke-width="{{ name_line_thickness }}"
			stroke-linecap="round"/>
		{{ text_element(name_line,
			x = - (name_line_length + name_line.width) / 2, y = name_line.height) }}
	</g>
{% endblock %}

{% block body %}
	<g id="table" transform="translate(0, {{ title_height + 1.5 * table_row_height }})">
		{% include "templates/skill_table.svg.jinja" %}
	</g>
{% endblock %}
